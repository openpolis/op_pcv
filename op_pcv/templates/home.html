<!DOCTYPE html>
<meta charset="utf-8" xmlns="http://www.w3.org/1999/html">
<html>
<head>
    <title>Parlamento Casa di Vetro</title>

    <link href="{{ STATIC_URL }}css/bootstrap.css" rel="stylesheet">
</head>
<body>

<script src="{{ STATIC_URL }}js/d3.v3.min.js"></script>


<script>


    var width = 250;
    var height = 180;
    var radius = 100;
    var grad=Math.PI/180;
    var data_sen = [1000,10, 150];
    var data_dep = [90,10, 150];
    var color = d3.scale.category20();
    var svg = d3.select("body").
                append("svg").
                attr("width", width).
                attr("height",height).
                append("g").
                attr("transform", "translate(" + radius*1.5 + "," + radius*1.5 +")");

    var arc = d3.svg.arc().innerRadius(radius - (radius/3)).outerRadius(radius - ((radius - radius/3)/10));

    var pie = d3.layout.pie().sort(null).startAngle(-90*grad).endAngle(90*grad);

    svg.selectAll("path").
            data(pie(data_dep)).
            enter().
            append("path").
            attr("d",arc).
            attr("fill",
            function(d, i) { return color(i); }).transition().duration(500).attrTween("d", sweep);


    var svg = d3.select("body").
            append("svg").
            attr("width", width).
            attr("height",height).
            append("g").
            attr("transform", "translate(" + radius*1.5 + "," + radius*1.5 +")");

    var arc = d3.svg.arc().innerRadius(radius - (radius/3)).outerRadius(radius - ((radius - radius/3)/10));

    var pie = d3.layout.pie().sort(null).startAngle(-90*grad).endAngle(90*grad);

    svg.selectAll("path").
            data(pie(data_sen)).
            enter().
            append("path").
            attr("d",arc).
            attr("fill",
            function(d, i) { return color(i); }).transition().duration(500).attrTween("d", sweep);


    function sweep(a) {

        var i = d3.interpolate({startAngle: -90*grad, endAngle: -90*grad},a);
        return function(t) {
            return arc(i(t));
        };
    }

</script>


</body>
</html>